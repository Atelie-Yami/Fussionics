[gd_scene load_steps=35 format=3 uid="uid://d2njmvul0ff10"]

[ext_resource type="Script" path="res://scripts/world/arena.gd" id="1_8citt"]
[ext_resource type="Script" path="res://scripts/world/turn_machine.gd" id="1_hlcug"]
[ext_resource type="PackedScene" uid="uid://bi2dsgexfvmh1" path="res://scenes/vfx/background_2.tscn" id="1_ylyog"]
[ext_resource type="StyleBox" uid="uid://ico5t3ky058p" path="res://resouces/stylebox/slot_texture.stylebox" id="4_cjbuv"]
[ext_resource type="Script" path="res://scripts/world/player_controller.gd" id="4_wfl3f"]
[ext_resource type="Script" path="res://scripts/world/slot.gd" id="5_0uahk"]
[ext_resource type="Script" path="res://scripts/elements/VFX_handler.gd" id="9_orbja"]
[ext_resource type="Script" path="res://scripts/world/action_button_handler.gd" id="10_6e11s"]
[ext_resource type="Script" path="res://scripts/world/camera_arena.gd" id="10_6paj4"]
[ext_resource type="PackedScene" path="res://scenes/elements/element_action_button.tscn" id="10_jw2y0"]
[ext_resource type="Texture2D" uid="uid://rgewtt4wyltf" path="res://assets/img/elements/action_select.svg" id="12_7bste"]
[ext_resource type="Texture2D" uid="uid://c4i4edfa1ocyn" path="res://assets/img/elements/Panel_Containers.svg" id="13_njmgc"]
[ext_resource type="Texture2D" uid="uid://bth7g2u105njl" path="res://assets/img/buttons/login/icons.svg" id="13_usloi"]
[ext_resource type="Texture2D" uid="uid://d24qc26hco0vf" path="res://assets/img/elements/element_moldure.png" id="14_j8jwv"]
[ext_resource type="FontFile" uid="uid://cdsd7fxfdwayp" path="res://assets/fonts/GiantRobotArmy-Medium.ttf" id="14_virs7"]
[ext_resource type="Script" path="res://scripts/interface/gameplay/deck_slot.gd" id="15_tapr6"]

[sub_resource type="Shader" id="Shader_2v644"]
code = "shader_type canvas_item;

const float SPEED = 3.0;
const vec2 WAVE = vec2(90, 120); 

uniform float motion_side: hint_range(-1.0, 1.0, 0.1);
uniform vec4 base_color: source_color;

void fragment() {
	vec4 color = vec4(1, 1, 1, 1);
	
	vec2 uv = UV * WAVE;
	float wave = cos(uv.x + uv.y - (TIME * motion_side * SPEED)) * 0.5;
	wave = 0.5 + wave;
	color.a = wave;
	
	float cut_x = pow(UV.x, 32.0);
	float cut_x_2 = pow(1.0 - UV.x, 32.0);
	float cut_y = pow(UV.y, 64.0);
	float cut_y_2 = pow(1.0 - UV.y, 40.0);
	
	color.a *= clamp(mix(cut_x, cut_x_2, motion_side) + cut_y + cut_y_2, 0.0, 1.0);
	
	COLOR = base_color * color;
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jxc7g"]
resource_local_to_scene = true
shader = SubResource("Shader_2v644")
shader_parameter/motion_side = -1.0
shader_parameter/base_color = Color(1, 0.301961, 0.301961, 0.482353)

[sub_resource type="Shader" id="Shader_lqgqo"]
code = "shader_type canvas_item;

const float SPEED = 3.0;
const vec2 WAVE = vec2(90, 120); 

uniform float motion_side: hint_range(-1.0, 1.0, 0.1);
uniform vec4 base_color: source_color;

void fragment() {
	vec4 color = vec4(1, 1, 1, 1);
	
	vec2 uv = UV * WAVE;
	float wave = cos(uv.x + uv.y - (TIME * motion_side * SPEED)) * 0.5;
	wave = 0.5 + wave;
	color.a = wave;
	
	float cut_x = pow(UV.x, 32.0);
	float cut_x_2 = pow(1.0 - UV.x, 32.0);
	float cut_y = pow(UV.y, 64.0);
	float cut_y_2 = pow(1.0 - UV.y, 40.0);
	
	color.a *= clamp(mix(cut_x, cut_x_2, motion_side) + cut_y + cut_y_2, 0.0, 1.0);
	
	COLOR = base_color * color;
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_od0fm"]
resource_local_to_scene = true
shader = SubResource("Shader_lqgqo")
shader_parameter/motion_side = 1.0
shader_parameter/base_color = Color(0, 1, 0.819608, 0.482353)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_c5sfv"]
content_margin_left = 4.0
content_margin_top = 4.0
content_margin_right = 4.0
content_margin_bottom = 4.0

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_ruh63"]

[sub_resource type="AtlasTexture" id="AtlasTexture_vnb5y"]
atlas = ExtResource("13_usloi")
region = Rect2(520, 360, 230, 230)
margin = Rect2(20, 20, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_wwb2n"]
atlas = ExtResource("13_usloi")
region = Rect2(1030, 610, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_u78wn"]
atlas = ExtResource("13_usloi")
region = Rect2(1300, 600, 270, 270)

[sub_resource type="AtlasTexture" id="AtlasTexture_oy12e"]
atlas = ExtResource("13_usloi")
region = Rect2(770, 330, 260, 260)
margin = Rect2(10, 10, 20, 20)

[sub_resource type="GDScript" id="GDScript_pjl2s"]
script/source = "extends CanvasLayer



@onready var turn_machine = %turn_machine
@onready var player_controller = $\"../PlayerController\"

@onready var life_self = $life_self
@onready var life_oponnent = $life_oponnent
@onready var energy = $energy
@onready var next_turn = $signboard/next_turn
@onready var timer = $signboard/timer
@onready var h_box_container = $deck/HBoxContainer


func _process(delta):
	life_self.text =   \"life: \" + str(player_controller.current_players[0].life)
	energy   .text = \"energy: \" + str(player_controller.current_players[0].energy)
	
	match turn_machine.current_stage:
		0: timer.text = \"PRE INIT\"
		1: timer.text = \"INIT STORVE\"
		2: timer.text = \"MAIN\"
		3: timer.text = \"END\"
	
	timer.text += \" rival\" if turn_machine.current_player else \" jogador\"
	
	if turn_machine.current_stage == 2:
		timer.text +=  \": \" + str(int(turn_machine.time_left))


func _turn_machine_main_turn(player):
	next_turn.disabled = player != TurnMachine.Players.A
	
	if player == PlayerController.Players.A:
		h_box_container.get_children().map(func(c): c.can_drop = true)



func _turn_machine_end_turn(player):
	next_turn.disabled = true
	
	h_box_container.get_children().map(func(c): c.can_drop = false)


func _next_turn_pressed():
	turn_machine.next_phase()
"

[sub_resource type="AtlasTexture" id="AtlasTexture_kc8xs"]
atlas = ExtResource("13_njmgc")
region = Rect2(840, 592, 974, 122)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_adfhc"]
texture = ExtResource("14_j8jwv")
modulate_color = Color(1, 1, 1, 0.321569)

[sub_resource type="AtlasTexture" id="AtlasTexture_dchwg"]
atlas = ExtResource("13_njmgc")
region = Rect2(862, 796, 400, 150)

[sub_resource type="LabelSettings" id="LabelSettings_kpb4x"]
font = ExtResource("14_virs7")
font_size = 32

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6p1hu"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_7r7rx"]

[sub_resource type="AtlasTexture" id="AtlasTexture_ds21w"]
atlas = ExtResource("13_usloi")
region = Rect2(658, 74, 183, 198)

[node name="world" type="Node2D"]

[node name="background_2" parent="." instance=ExtResource("1_ylyog")]

[node name="vfx" type="ColorRect" parent="background_2"]
material = SubResource("ShaderMaterial_jxc7g")
custom_minimum_size = Vector2(792, 0)
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -792.0
grow_horizontal = 0
grow_vertical = 2

[node name="vfx2" type="ColorRect" parent="background_2"]
material = SubResource("ShaderMaterial_od0fm")
custom_minimum_size = Vector2(792, 0)
anchors_preset = 9
anchor_bottom = 1.0
grow_vertical = 2

[node name="turn_machine" type="Timer" parent="."]
unique_name_in_owner = true
one_shot = true
script = ExtResource("1_hlcug")

[node name="arena" type="TextureRect" parent="."]
custom_minimum_size = Vector2(605, 320)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 605.0
offset_top = 320.0
offset_right = 1315.0
offset_bottom = 760.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_8citt")

[node name="Slot_1" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_right = 80.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_2" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 90.0
offset_right = 170.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_3" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 180.0
offset_right = 260.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_4" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 270.0
offset_right = 350.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_5" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 360.0
offset_right = 440.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_6" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 450.0
offset_right = 530.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_7" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 540.0
offset_right = 620.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_8" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 630.0
offset_right = 710.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_9" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_top = 90.0
offset_right = 80.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_10" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 90.0
offset_top = 90.0
offset_right = 170.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_11" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 180.0
offset_top = 90.0
offset_right = 260.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_12" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 270.0
offset_top = 90.0
offset_right = 350.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_13" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 360.0
offset_top = 90.0
offset_right = 440.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_14" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 450.0
offset_top = 90.0
offset_right = 530.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_15" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 540.0
offset_top = 90.0
offset_right = 620.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_16" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 630.0
offset_top = 90.0
offset_right = 710.0
offset_bottom = 170.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_17" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_top = 180.0
offset_right = 80.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_18" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 90.0
offset_top = 180.0
offset_right = 170.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_19" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 180.0
offset_top = 180.0
offset_right = 260.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_20" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 270.0
offset_top = 180.0
offset_right = 350.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_21" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 360.0
offset_top = 180.0
offset_right = 440.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_22" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 450.0
offset_top = 180.0
offset_right = 530.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_23" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 540.0
offset_top = 180.0
offset_right = 620.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_24" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 630.0
offset_top = 180.0
offset_right = 710.0
offset_bottom = 260.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_25" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_top = 270.0
offset_right = 80.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_26" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 90.0
offset_top = 270.0
offset_right = 170.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_27" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 180.0
offset_top = 270.0
offset_right = 260.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_28" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 270.0
offset_top = 270.0
offset_right = 350.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_29" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 360.0
offset_top = 270.0
offset_right = 440.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_30" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 450.0
offset_top = 270.0
offset_right = 530.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_31" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 540.0
offset_top = 270.0
offset_right = 620.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_32" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 630.0
offset_top = 270.0
offset_right = 710.0
offset_bottom = 350.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_33" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_top = 360.0
offset_right = 80.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_34" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 90.0
offset_top = 360.0
offset_right = 170.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_35" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 180.0
offset_top = 360.0
offset_right = 260.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_36" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 270.0
offset_top = 360.0
offset_right = 350.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_37" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 360.0
offset_top = 360.0
offset_right = 440.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_38" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 450.0
offset_top = 360.0
offset_right = 530.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_39" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 540.0
offset_top = 360.0
offset_right = 620.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_40" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 630.0
offset_top = 360.0
offset_right = 710.0
offset_bottom = 440.0
pivot_offset = Vector2(40, 40)
mouse_filter = 2
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_41" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = -360.0
offset_right = -280.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_42" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = -180.0
offset_right = -100.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_44" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = -270.0
offset_top = 450.0
offset_right = -190.0
offset_bottom = 530.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_45" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = -90.0
offset_top = 450.0
offset_right = -10.0
offset_bottom = 530.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_47" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 810.0
offset_right = 890.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_48" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 990.0
offset_right = 1070.0
offset_bottom = 80.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_50" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 720.0
offset_top = 450.0
offset_right = 800.0
offset_bottom = 530.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="Slot_51" type="Panel" parent="arena"]
visible = false
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
offset_left = 900.0
offset_top = 450.0
offset_right = 980.0
offset_bottom = 530.0
pivot_offset = Vector2(40, 40)
mouse_filter = 1
theme_override_styles/panel = ExtResource("4_cjbuv")
script = ExtResource("5_0uahk")

[node name="PlayerController" type="Node" parent="."]
script = ExtResource("4_wfl3f")

[node name="VFX_handler" type="Timer" parent="."]
one_shot = true
script = ExtResource("9_orbja")

[node name="CameraArena" type="Camera2D" parent="."]
visible = false
position = Vector2(960, 0)
position_smoothing_enabled = true
position_smoothing_speed = 4.0
script = ExtResource("10_6paj4")
background_path = NodePath("../background_2")

[node name="actions" type="Node2D" parent="."]
z_index = 1
script = ExtResource("10_6e11s")

[node name="element_action" parent="actions" instance=ExtResource("10_jw2y0")]
offset_left = -124.0
offset_top = -83.0
offset_right = -74.0
offset_bottom = -33.0
pivot_offset = Vector2(25, 25)
theme_override_styles/normal = SubResource("StyleBoxEmpty_c5sfv")
theme_override_styles/hover = SubResource("StyleBoxEmpty_ruh63")
text = "
"
icon = ExtResource("12_7bste")
flat = true
icon_alignment = 1
expand_icon = true

[node name="TextureRect" type="TextureRect" parent="actions/element_action"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("AtlasTexture_vnb5y")
expand_mode = 1

[node name="element_action2" parent="actions" instance=ExtResource("10_jw2y0")]
offset_left = -38.0
offset_top = -131.0
offset_right = 12.0
offset_bottom = -81.0
pivot_offset = Vector2(25, 25)
theme_override_styles/normal = SubResource("StyleBoxEmpty_c5sfv")
theme_override_styles/hover = SubResource("StyleBoxEmpty_ruh63")
text = "
"
icon = ExtResource("12_7bste")
flat = true
icon_alignment = 1
expand_icon = true
action = 1

[node name="TextureRect2" type="TextureRect" parent="actions/element_action2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("AtlasTexture_wwb2n")
expand_mode = 1

[node name="element_action3" parent="actions" instance=ExtResource("10_jw2y0")]
offset_left = 54.0
offset_top = -126.0
offset_right = 104.0
offset_bottom = -76.0
pivot_offset = Vector2(25, 25)
theme_override_styles/normal = SubResource("StyleBoxEmpty_c5sfv")
theme_override_styles/hover = SubResource("StyleBoxEmpty_ruh63")
text = "
"
icon = ExtResource("12_7bste")
flat = true
icon_alignment = 1
expand_icon = true
action = 2

[node name="TextureRect3" type="TextureRect" parent="actions/element_action3"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("AtlasTexture_u78wn")
expand_mode = 1

[node name="element_action4" parent="actions" instance=ExtResource("10_jw2y0")]
offset_left = 133.0
offset_top = -84.0
offset_right = 183.0
offset_bottom = -34.0
pivot_offset = Vector2(25, 25)
theme_override_styles/normal = SubResource("StyleBoxEmpty_c5sfv")
theme_override_styles/hover = SubResource("StyleBoxEmpty_ruh63")
text = "
"
icon = ExtResource("12_7bste")
flat = true
icon_alignment = 1
expand_icon = true
action = 3

[node name="TextureRect4" type="TextureRect" parent="actions/element_action4"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("AtlasTexture_oy12e")
expand_mode = 1

[node name="GUI" type="CanvasLayer" parent="."]
script = SubResource("GDScript_pjl2s")

[node name="deck" type="TextureRect" parent="GUI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -586.5
offset_top = -125.0
offset_right = 388.5
grow_horizontal = 2
grow_vertical = 0
texture = SubResource("AtlasTexture_kc8xs")
metadata/_edit_lock_ = true

[node name="HBoxContainer" type="HBoxContainer" parent="GUI/deck"]
layout_mode = 2
offset_left = 231.5
offset_top = 35.0
offset_right = 941.5
offset_bottom = 115.0
theme_override_constants/separation = 10

[node name="slot_1" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")

[node name="slot_2" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")
element = 1

[node name="slot_3" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")
element = 2

[node name="slot_4" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")
element = 3

[node name="slot_5" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")
element = 4

[node name="slot_6" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")
element = 5

[node name="slot_7" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")
element = 6

[node name="slot_8" type="Panel" parent="GUI/deck/HBoxContainer"]
custom_minimum_size = Vector2(80, 80)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_adfhc")
script = ExtResource("15_tapr6")
element = 7

[node name="signboard" type="TextureRect" parent="GUI"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -200.0
offset_right = 200.0
offset_bottom = 150.0
grow_horizontal = 2
texture = SubResource("AtlasTexture_dchwg")
metadata/_edit_lock_ = true

[node name="timer" type="Label" parent="GUI/signboard"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -165.0
offset_top = 10.0
offset_right = 165.0
offset_bottom = 56.0
grow_horizontal = 2
text = "life: 10"
label_settings = SubResource("LabelSettings_kpb4x")
horizontal_alignment = 1
vertical_alignment = 1

[node name="next_turn" type="Button" parent="GUI/signboard"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -158.0
offset_top = 83.0
offset_right = 158.0
offset_bottom = 148.0
grow_horizontal = 2
focus_mode = 0
theme_override_fonts/font = ExtResource("14_virs7")
theme_override_font_sizes/font_size = 32
disabled = true
text = "NEXT_TURN"
flat = true

[node name="life_self" type="Label" parent="GUI"]
offset_left = 99.0
offset_top = 713.0
offset_right = 257.0
offset_bottom = 749.0
text = "life: 10"
label_settings = SubResource("LabelSettings_kpb4x")

[node name="life_oponnent" type="Label" parent="GUI"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -307.0
offset_top = 749.0
offset_right = -45.0
offset_bottom = 785.0
grow_horizontal = 0
text = "life: 10"
label_settings = SubResource("LabelSettings_kpb4x")
horizontal_alignment = 1

[node name="energy" type="Label" parent="GUI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 398.0
offset_top = -87.0
offset_right = 565.0
offset_bottom = -44.0
grow_vertical = 0
text = "Energy: 10"
label_settings = SubResource("LabelSettings_kpb4x")
horizontal_alignment = 1
vertical_alignment = 1

[node name="pause_meun" type="Button" parent="GUI"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -58.0
offset_top = 18.0
offset_right = -18.0
offset_bottom = 58.0
grow_horizontal = 0
focus_mode = 0
theme_override_styles/normal = SubResource("StyleBoxFlat_6p1hu")
theme_override_styles/hover = SubResource("StyleBoxEmpty_7r7rx")
icon = SubResource("AtlasTexture_ds21w")
flat = true
icon_alignment = 1
expand_icon = true

[connection signal="end_game" from="turn_machine" to="turn_machine" method="_end_game"]
[connection signal="end_turn" from="turn_machine" to="actions" method="_turn_machine_end_turn"]
[connection signal="end_turn" from="turn_machine" to="GUI" method="_turn_machine_end_turn"]
[connection signal="main_turn" from="turn_machine" to="GUI" method="_turn_machine_main_turn"]
[connection signal="timeout" from="VFX_handler" to="VFX_handler" method="_timeout"]
[connection signal="pressed" from="GUI/signboard/next_turn" to="GUI" method="_next_turn_pressed"]
